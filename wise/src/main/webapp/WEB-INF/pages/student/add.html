<!DOCTYPE html>
<html>

#include("/WEB-INF/pages/common/head.html")

<body>
	<div class="weadmin-body">
		<form class="layui-form">
			<div class="layui-form-item">
				<label for="username" class="layui-form-label"> <span
					class="we-red">*</span>姓名
				</label>
				<div class="layui-input-inline">
					<input type="text" id="name" name="username" required=""
						lay-verify="required" autocomplete="off" class="layui-input">
				</div>
				<label for="username" class="layui-form-label"> <span
					class="we-red">*</span>性别
				</label>
				<div class="layui-input-inline">

					<input type="radio" name="sex" value="1" title="男" checked="">
					<input type="radio" name="sex" value="0" title="女">

				</div>
			</div>
			
			<div class="layui-form-item">
				<label for="phone" class="layui-form-label"> <span
					class="we-red">*</span>年龄
				</label>
				<div class="layui-input-inline">
					<input type="text" id="age" name="age" required=""
						lay-verify="phone" autocomplete="off" class="layui-input">
				</div>
			</div>
			


			<button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>

		</form>
	</div>
	<script>
		layui
				.use(
						[ 'form', 'layer', 'laydate' ],
						function() {
							var form = layui.form, layer = layui.layer, laydate = layui.laydate;

							laydate.render({
								elem : ''
							})

							//自定义验证规则
							form.verify({
								nikename : function(value) {
									if (value.length < 5) {
										return '昵称至少得5个字符啊';
									}
								},
								pass : [ /(.+){6,12}$/, '密码必须6到12位' ],
								repass : function(value) {
									if ($('#L_pass').val() != $('#L_repass')
											.val()) {
										return '两次密码不一致';
									}
								}
							});

							//监听提交
							form.on('submit(add)', function(data) {
								console.log(data);
								//发异步，把数据提交给php
								layer.alert("增加成功", {
									icon : 6
								}, function() {
									// 获得frame索引
									var index = parent.layer
											.getFrameIndex(window.name);
									//关闭当前frame
									parent.layer.close(index);
								});
								return false;
							});

						});
	</script>
</body>

</html>